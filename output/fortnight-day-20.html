<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Day 20</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">foss@rit </a></h1>
                <nav><ul>
                    <li><a href="/pages/about.html">About</a></li>
                    <li><a href="/pages/research.html">Research</a></li>
                    <li class="active"><a href="/category/legacy.html">legacy</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/fortnight-day-20.html" rel="bookmark"
           title="Permalink to Day 20">Day 20</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2013-06-25T10:11:00">
                Tue 25 June 2013
        </abbr>

        <address class="vcard author">
                By <a class="url fn" href="/author/fortnight.html">fortnight</a>
        </address>
<p>In <a href="/category/legacy.html">legacy</a>. </p>
<p>tags: <a href="/tag/legacy.html">legacy</a><a href="/tag/fossrit.html">foss@rit</a></p>
</footer><!-- /.post-info -->      <h1>Bash Script Snorkeling</h1>
<p>So, as I mentioned previously, I'm taking notes on School Server code and
scripts to understand what they consist of. However, it is still quite the
rocky road, when I come across lines full of symbols I don't understand.</p>
<p>For example:</p>
<p>if [ "$1" = '-h' -o $# -gt 1 ]; then</p>
<p>for file in 'find $DOMAIN_CONFIG_DIR -maxdepth 1 -type f -perm /u+x ! -name
"*~" -print | sort' ;</p>
<p>do</p>
<p>["${file%.cfsaved}" != "${file}" ] &amp;&amp; continue</p>
<p>["${file%.rpmsave}" != "${file}" ] &amp;&amp; continue</p>
<p>["${file%.rpmorig}" != "${file}" ] &amp;&amp; continue</p>
<p>["${file%.rpmnew}" != "${file}" ] &amp;&amp; continue</p>
<p>["${file%.swp}" != "${file}" ] &amp;&amp; continue</p>
<p>["${file%.v}" != "${file}" ] &amp;&amp; continue</p>
<p>eval $file $new_domain_name;</p>
<p>echo "xs-domain-config ran $file" | tee -a $LOG</p>
<p>done</p>
<p>In Psuedo code, this can be translated into:</p>
<p>if (the first argument is the help option or the number of arguments is
greater than one)</p>
<p>loop through each file in the directory saved as DOMAIN_CONFIG_DIR, but only
open files you've permission to execute, don't go deeper into directories.</p>
<p>for each file, ignore it if it ends in ".cfsaved", ".rpmsave", ".rpmorig",
".rpmnew", ".swp", "v", otherwise, run the file with the variable
"new_domain_name" as its argument, and then append "xs-domain-config ran 'name
of file' " to the log.</p>
<p>For some info on Bash Scripting, click <a href="http://www.tldp.org/LDP/Bash-
Beginners-Guide/html/sect_07_01.html">here</a> or <a href="http://www.tldp.org/LDP/Bash-
Beginners-Guide/html/sect_03_02.html">there</a>. Bash scripting can do some cool stuff,
like install a school server, or make you really frustrated as you struggle to
install a school server.</p>
<p><a href="http://meme5.net/#t=LOST_IN_BASH_SCRIPT;b=BETTER_DRINK_MY_OWN_PISS;i
=meme-beargrylls;">My feelings for the
day</a></p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>